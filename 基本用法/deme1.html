<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
        <style>
            #canvas{
                background-color: #c33;
            }
        </style>
    </head>
    <body>
        <canvas id="canvas" width="300" height="300"></canvas>
        <script>

            function windowToCanvas(canvas,x,y){
                var data = canvas.getBoundingClientRect();
                console.log(x)
                console.log(data.left)
                return {
                    x:x-data.left,
                    y:y-data.top
                }
            }

            document.querySelector('#canvas').addEventListener('mousedown',function(e){
                var a = windowToCanvas(document.querySelector('#canvas'),e.clientX,e.clientY)
                console.log(a)
            },false)
        </script>
    </body>
</html>
